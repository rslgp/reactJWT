(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{162:function(e,t,c){},167:function(e,t){},169:function(e,t){},180:function(e,t){},182:function(e,t){},210:function(e,t){},211:function(e,t){},216:function(e,t){},218:function(e,t){},225:function(e,t){},244:function(e,t){},275:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(152),i=c(48),r=c(6),o=(c(162),c(90),c(153)),s=c.n(o),l=c(65),j=c.n(l),b={homepage:"https://rslgp.github.io/reactJWT/#",loginPage:"auth/login",profilePage:"page",publicProfilePage:"profile/:profile_id",tagPage:"tags/:tag",allTagPage:"tags"},d=b,u=c(163),f={jwt:"61706b2de419b5ae15524df8e70ce288"},h="access_token",O={getSessionData:function(){try{var e=j.a.get(h);if(!e)throw new Error("No Auth Cookie");var t=u.verify(e,f.jwt);if(t.exp&&t.exp<Date.now()/1e3)throw this.removeSessionData(),new Error("Token Expired");return t}catch(c){return console.log(c.message),window.location.href=d.homepage+"/"+d.loginPage,null}},saveSessionData:function(e){var t={email:e.email,exp:Math.floor(Date.now()/1e3)+7200},c=u.sign(t,f.jwt);j.a.set(h,c,{expires:1/24})},removeSessionData:function(){j.a.remove(h)}},g=c(5),p="796862051841-u21s62ekivlponlpdd3vlbkbuh6vln8g.apps.googleusercontent.com";var x=function(){return Object(g.jsxs)("div",{className:"GoogleLogin",children:[Object(g.jsx)("button",{onClick:function(){O.saveSessionData({email:"teste"})},children:"TESTE"}),Object(g.jsx)(s.a,{clientId:p,buttonText:"Continue with Google",onSuccess:function(e){console.log(e),O.saveSessionData(e.profileObj),d.profileData=e.profileObj,window.location.href=d.homepage+"/"+d.profilePage},onFailure:console.log,cookiePolicy:"single_host_origin"}),Object(g.jsx)("button",{onClick:function(){O.getSessionData()&&(window.location.href=d.homepage+"/"+d.profilePage)},children:"TESTE2"})]})};var v=function(){return Object(g.jsxs)("div",{className:"Header",children:[Object(g.jsx)("div",{className:"espacamento"}),Object(g.jsx)("h1",{children:"Bater ponto na ECS"}),Object(g.jsx)("div",{className:"espacamento"})]})};var m=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(v,{}),Object(g.jsx)(x,{})]})},P=c(42),w=c(16),S=c(10),E=c(154),k=Object(E.a)({apiKey:"AIzaSyCdMWZ25HYgn5YeXOLY6Ogw9qwpxJP4Cpo",authDomain:"myapp-d87de.firebaseapp.com",projectId:"myapp-d87de",storageBucket:"myapp-d87de.appspot.com",messagingSenderId:"101658274836",appId:"1:101658274836:web:364eb204ab277197d30b01"}),y=c(17),D=Object(y.b)(k);var T=function(){var e=Object(a.useState)(null),t=Object(S.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),r=Object(S.a)(i,2),o=r[0],s=r[1],l=Object(a.useState)(""),j=Object(S.a)(l,2),b=j[0],u=j[1];Object(a.useEffect)((function(){!function(){var e=O.getSessionData();if(e){var t=e.email,c=btoa(t),a="users/"+c,i=Object(y.c)(D,a);Object(y.a)(i).then((function(e){if(e.exists()){var a=e.val();n(a),a.tags&&s(a.tags)}else{console.log("No data available");var r={email:t,name:d.profileData.name,profilePictureUrl:d.profileData.imageUrl,tags:[]},o=function(e){for(var t=0,c=0;c<e.length;c++)t=(t<<5)-t+e.charCodeAt(c);return Math.abs(t)+Date.now()}(r.email);r.public_id=o,Object(y.d)(i,r);var l=Object(y.c)(D,"public_users/"+o);Object(y.d)(l,{id:c}),n(r)}})).catch((function(e){console.error("Error fetching data:",e)}))}}()}),[]);return Object(g.jsx)("div",{children:c?Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Profile Information"}),Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:c.profilePictureUrl,alt:"Profile",style:{maxWidth:"100px",maxHeight:"100px"}})}),Object(g.jsxs)("div",{children:[Object(g.jsx)("strong",{children:"Name:"})," ",c.name]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("strong",{children:"Email:"})," ",c.email]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("strong",{children:"Public Id:"})," ",Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:d.homepage+"/"+d.publicProfilePage.split(":")[0]+c.public_id,children:c.public_id})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("strong",{children:"Tags:"}),Object(g.jsx)("ul",{children:o.map((function(e,t){return Object(g.jsx)("li",{children:e},t)}))}),Object(g.jsx)("input",{type:"text",placeholder:"Add a tag",value:b,onChange:function(e){u(e.target.value)}}),Object(g.jsx)("button",{onClick:function(){if(""!==b.trim())if(/^[A-Za-z]+$/.test(b)){u(b.toLowerCase());var e=[].concat(Object(w.a)(o),[b]);s(e);var t=Object(P.a)(Object(P.a)({},c),{},{tags:e});n(t),u("")}else alert("Tags can only contain letters.")},children:"Add Tag"})]}),Object(g.jsx)("button",{onClick:function(){var e=O.getSessionData();if(e){var t=e.email,a="users/"+btoa(t)+"/tags",n=Object(y.c)(D,a),i=[].concat(Object(w.a)(o),[b]);Object(y.d)(n,i),i.forEach((function(e){if(""!==e){var t="tags/"+e.toLowerCase()+"/"+c.public_id,a=Object(y.c)(D,t);Object(y.d)(a,!0)}}))}},children:"SAVE"})]}):Object(g.jsx)("p",{children:"Loading profile data..."})})},_=c(155),C=["email"],N=Object(y.b)(k),A=function(){var e=Object(r.o)().profile_id,t=Object(a.useState)(null),c=Object(S.a)(t,2),n=c[0],i=c[1];return Object(a.useEffect)((function(){!function(){var t="public_users/"+e,c=Object(y.c)(N,t);Object(y.a)(c).then((function(e){if(e.exists()){var t="users/"+e.val().id,c=Object(y.c)(N,t);Object(y.a)(c).then((function(e){if(e.exists()){var t=e.val(),c=(t.email,Object(_.a)(t,C));i(c)}else console.log("No data available")})).catch((function(e){console.error("Error fetching data:",e)}))}else console.log("No data available")})).catch((function(e){console.error("Error fetching data:",e)}))}()}),[e]),Object(g.jsx)("div",{children:n?Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Profile Information"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("strong",{children:"Name:"})," ",n.name]}),Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:n.profilePictureUrl,alt:"Profile",style:{maxWidth:"100px",maxHeight:"100px"}})})]}):Object(g.jsx)("p",{children:"Loading profile data..."})})},I=function(){var e=Object(r.o)().tag,t=Object(a.useState)([]),c=Object(S.a)(t,2),n=c[0],i=c[1];return Object(a.useEffect)((function(){var t=Object(y.b)(),c=Object(y.c)(t,"tags/".concat(e));Object(y.a)(c).then((function(e){if(e.exists()){var t=e.val(),c=Object.keys(t);i(c)}})).catch((function(e){console.error("Error fetching tag data:",e)}))}),[e]),Object(g.jsxs)("div",{children:[Object(g.jsxs)("h2",{children:["Users with Tag: ",e]}),Object(g.jsx)("div",{children:n.map((function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:d.homepage+"/"+d.publicProfilePage.split(":")[0]+e,children:e}),Object(g.jsx)("br",{})]})}))})]})},L=function(){var e=Object(r.o)().tag,t=Object(a.useState)([]),c=Object(S.a)(t,2),n=c[0],i=c[1];return Object(a.useEffect)((function(){var e=Object(y.b)(),t=Object(y.c)(e,"tags");Object(y.a)(t).then((function(e){if(e.exists()){var t=e.val(),c=Object.keys(t);i(c)}})).catch((function(e){console.error("Error fetching tag data:",e)}))}),[e]),Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"All Tags:"}),Object(g.jsx)("div",{children:n.map((function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:d.homepage+"/"+d.tagPage.split(":")[0]+e,children:e}),Object(g.jsx)("br",{})]})}))})]})};""===window.location.hash&&(window.location.hash="/");var U=Object(i.a)([{path:"/",element:Object(g.jsx)(m,{})},{path:d.loginPage,element:Object(g.jsx)(m,{})},{path:d.profilePage,element:Object(g.jsx)(T,{})},{path:d.publicProfilePage,element:Object(g.jsx)(A,{})},{path:d.tagPage,element:Object(g.jsx)(I,{})},{path:d.allTagPage,element:Object(g.jsx)(L,{})}]);n.createRoot(document.getElementById("root")).render(Object(g.jsx)(a.StrictMode,{children:Object(g.jsx)(r.b,{router:U})}))},90:function(e,t,c){}},[[275,1,2]]]);
//# sourceMappingURL=main.32c94488.chunk.js.map