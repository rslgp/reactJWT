(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{131:function(e,t){},136:function(e,t,n){},262:function(e,t,n){},274:function(e,t){},276:function(e,t){},291:function(e,t){},331:function(e,t){},333:function(e,t){},365:function(e,t){},366:function(e,t){},371:function(e,t){},373:function(e,t){},380:function(e,t){},399:function(e,t){},475:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n(252),c=n(255),r=n(5),i=(n(262),n(136),n(253)),s=n.n(i),l=n(6),p=n(12),u={email:"unipe-ecs-excel@unipe-ecs-399916.iam.gserviceaccount.com",key:"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQD2ysk+k88Kodf5\nYOGsrZgvyZ+DUpwSdPz707nkscMC7sVY4otC9o+ICRWvDEp+v9FHHbxR00/xj9wR\nZT8sl5a+VBdPC7OxfOUsUe7zWdi0MTlSdELnSFsJ12GvhFXCLKZwg0YXDm6AN8IQ\n7n2fICfgqnN/fMFQ1z2nx6tUKLNEzckurzi9CcKaAyNj+dTYZRwA8ZyKrVO4tO/M\nevujhMvEgREl8PEhKFgYai0Z85OHLjARnTmM4ZN+t6WP+w7Y33pJYg7+PhMq2CcV\nKSjSsOm5l8SJ2TzLvsgtSzyes5EsEd5r42O86NlrK/4pcGzGSgcfhBersS5pkZDd\nVLByCTjTAgMBAAECggEAY4C0bhobPo6tbPseUkh1lULmIQUULy7i90fQ6f+wAEUz\n5VgFzRxrF26OQxMiEAOXxeQb0yPvVhZqJMtdEsYVvaxa74Bo1XVlUx6/yHcfs9sq\n4O9GMEkQh6HC3YjuKMlm2/NZtZ8Yd3LDuJ7noFpPKbqfsbWjncwCrFyJW/fC+8hw\nFmeaP5T2DhcPN+/a+5CZ49XZy+VaCNOdnetYxlllmX14kIiBysjNc2C0hjDO0RrP\nMdOUdKsfYOpPmos14EnWkZZHq3cJCFK2YeSb5JDfyQZUsifWU5MxrRlPoF3O1leA\nSDFxiSbbOxBtsVld6Ox1mdeeEu4GhvgExFEIj56TjQKBgQD7/a8S/Oapwa65qvyL\nGi3aOED4XfcVDyNikGsINShL5B6j2WSVdhvMn3OtaikxK8k/OqcMfK5UGpIvLH7X\n5ZyKNbsdW5K0ZM02qPNskoRvHXi544VPNwuhypt1l3ypv96qtMSQ0i2a1eaQsWsM\nnqP6KF3N/9VK5H9fFa7Mfm4VDQKBgQD6t+2moz1U7oFYM4bh+g4bLS9UZf9ltaOH\napsAQa6OMmy5oinagBSMydM9LppaqlG2G41tgL588huauKhCNoQRr7Vn9i+RVWdV\nvM/q8mIonkzNZ6xJMxWtkGuryaVKgQCgraIh9pTRGIq50esoC/6Y18RTK5gOZAsF\n1cuAdKTNXwKBgQDHfbcbNiG55H5ZuJbD3M7OAljVBzazck+WGTTSw5qKMidbmZ/6\nfw1U+irO78t6hOqGZv2WciJkrMBsHjKw4rMB67WdcUB8FY0sp6ZGntu/R7qqlweT\nhcVsqYRXHL1xeVdjF0bCS9IU0R/+Dqbrz6+LPGe+zLlj1+9KLFU8yR6HBQKBgCY1\nyd5PmpVLFCNhFvlxppy1sjTmppnVqOqGcMEFQZkiTjesYzyNsJQUXkFAzP1sX6+l\nW1SI/n8EVvipk9sje9VGNht2BaHcpjcG45km/5a5KXNUjYlKY89j50TzImHMb1AN\nplwOvHdxihLvzyr3SQH6QE18o1vuG0/0WWNmY4d5AoGAW/tX/3DFDCm7buNNADc8\ngwSTJcHxC3jYuoqlu9+/IuLmrpZmbDih3A4M9Fd96wp/iF2bqv6j6R3bDdrT7VD/\nfXMIoFWnT+oC1BEpX5XzRX9TZBKK/jT2vs3EaLId7inOm+SIYP9f8rl+2k/Nnf36\ntm8wVzVHZ7/9s1rocbcpUos=\n-----END PRIVATE KEY-----\n",spreadsheetId:"1tIB2BHeEXPx7Lx_Xl6NZyv-bamJh0HVUBUyaHk0vzJ4"},d=new(0,n(263).GoogleSpreadsheet)(u.spreadsheetId);function j(){var e=new Date;e.setUTCHours(e.getUTCHours());var t=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0"),o=(e.getMonth()+1).toString().padStart(2,"0"),c=e.getFullYear().toString().slice(-2);return"".concat(t,":").concat(n," ").concat(a,"/").concat(o,"/").concat(c)}function b(){return(b=Object(p.a)(Object(l.a)().mark((function e(t){var n,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.useServiceAccountAuth({client_email:u.email,private_key:u.key});case 3:return e.next=5,d.loadInfo();case 5:return n=d.sheetsByIndex[0],a={Email:t.email,DateISO:j(),Nome:t.name},console.log(a),e.next=10,n.addRow(a);case 10:if(!e.sent){e.next=13;break}return e.abrupt("return",!0);case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(0),console.log("erro inserindo sheet"),console.log(e.t0.message),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}var f=function(e){return b.apply(this,arguments)},h=n(94),g=n.n(h),m=n(460),O={jwt:"3e80e326a9646ca362fb61d312a633ce7bc93924a6634e26a328a01a7452d675"},v="access_token",x={getSessionData:function(){try{var e=g.a.get(v);if(!e)throw new Error("No Auth Cookie");var t=m.verify(e,O.jwt);if(t.exp&&t.exp<Date.now()/1e3)throw this.removeSessionData(),new Error("Token Expired");return t}catch(n){return console.log(n.message),window.location.href="/",null}},saveSessionData:function(e){var t={email:e.email,exp:Math.floor(Date.now()/1e3)+7200},n=m.sign(t,O.jwt);g.a.set(v,n,{expires:1/24})},removeSessionData:function(){g.a.remove(v)}},S={},w=n(15),E="796862051841-u21s62ekivlponlpdd3vlbkbuh6vln8g.apps.googleusercontent.com";var y=function(){return Object(w.jsxs)("div",{className:"GoogleLogin",children:[Object(w.jsx)("button",{onClick:function(){x.saveSessionData({email:"teste"})},children:"TESTE"}),Object(w.jsx)(s.a,{clientId:E,buttonText:"Continue with Google",onSuccess:function(e){console.log(e),f(e.profileObj)?alert("Ponto registrado"):alert("Falha no ponto"),x.saveSessionData(e.profileObj),S.profileData=e.profileObj,window.location.href="./page"},onFailure:console.log,cookiePolicy:"single_host_origin"}),Object(w.jsx)("button",{onClick:function(){x.getSessionData()&&(window.location.href="./page")},children:"TESTE2"})]})};var D=function(){return Object(w.jsxs)("div",{className:"Header",children:[Object(w.jsx)("div",{className:"espacamento"}),Object(w.jsx)("h1",{children:"Bater ponto na ECS"}),Object(w.jsx)("div",{className:"espacamento"})]})};var k=function(){return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(D,{}),Object(w.jsx)(y,{})]})},N=n(11),M=n(254),I=Object(M.a)({apiKey:"AIzaSyCdMWZ25HYgn5YeXOLY6Ogw9qwpxJP4Cpo",authDomain:"myapp-d87de.firebaseapp.com",projectId:"myapp-d87de",storageBucket:"myapp-d87de.appspot.com",messagingSenderId:"101658274836",appId:"1:101658274836:web:364eb204ab277197d30b01"}),A=n(74),C=Object(A.b)(I),K=function(){var e=Object(a.useState)(null),t=Object(N.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){!function(){var e=x.getSessionData();if(e){var t=e.email,n="users/"+t,a=Object(A.c)(C,n);Object(A.a)(a).then((function(e){if(e.exists()){var n=e.val();o(n)}else{console.log("No data available");var c={email:t,name:S.profileData.name,profilePictureUrl:S.profileData.imageUrl};Object(A.d)(a,c),o(c)}})).catch((function(e){console.error("Error fetching data:",e)}))}}()}),[]),Object(w.jsx)("div",{children:n?Object(w.jsxs)("div",{children:[Object(w.jsx)("h2",{children:"Profile Information"}),Object(w.jsxs)("div",{children:[Object(w.jsx)("strong",{children:"Name:"})," ",n.name]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("strong",{children:"Email:"})," ",n.email]}),Object(w.jsx)("div",{children:Object(w.jsx)("img",{src:n.profilePictureUrl,alt:"Profile",style:{maxWidth:"100px",maxHeight:"100px"}})})]}):Object(w.jsx)("p",{children:"Loading profile data..."})})},B=Object(c.a)([{path:"/",element:Object(w.jsx)(k,{})},{path:"/page",element:Object(w.jsx)(K,{})}]);o.createRoot(document.getElementById("root")).render(Object(w.jsx)(a.StrictMode,{children:Object(w.jsx)(r.b,{router:B})}))}},[[475,1,2]]]);
//# sourceMappingURL=main.fd2e7925.chunk.js.map