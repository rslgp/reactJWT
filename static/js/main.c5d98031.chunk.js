(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{131:function(e,t){},137:function(e,t,c){},263:function(e,t,c){},275:function(e,t){},277:function(e,t){},292:function(e,t){},332:function(e,t){},334:function(e,t){},366:function(e,t){},367:function(e,t){},372:function(e,t){},374:function(e,t){},381:function(e,t){},400:function(e,t){},476:function(e,t,c){"use strict";c.r(t);var o=c(1),a=c(253),i=c(136),n=c(5),r=(c(263),c(137),c(254)),l=c.n(r),s=(c(6),c(13),{});s.email=Object({NODE_ENV:"production",PUBLIC_URL:"/reactJWT",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_JWT:"cc87fcfd48930cc25795524677a7033fab8a9b2b012c58956a001244c4a6c32e",REACT_APP_GOOGLE_CLIENTID:"796862051841-u21s62ekivlponlpdd3vlbkbuh6vln8g.apps.googleusercontent.com",REACT_APP_FIREBASE:"AIzaSyCdMWZ25HYgn5YeXOLY6Ogw9qwpxJP4Cpo"}).REACT_APP_GOOGLE_EMAIL,s.key=Object({NODE_ENV:"production",PUBLIC_URL:"/reactJWT",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_JWT:"cc87fcfd48930cc25795524677a7033fab8a9b2b012c58956a001244c4a6c32e",REACT_APP_GOOGLE_CLIENTID:"796862051841-u21s62ekivlponlpdd3vlbkbuh6vln8g.apps.googleusercontent.com",REACT_APP_FIREBASE:"AIzaSyCdMWZ25HYgn5YeXOLY6Ogw9qwpxJP4Cpo"}).REACT_APP_GOOGLE_KEY,s.spreadsheetId=Object({NODE_ENV:"production",PUBLIC_URL:"/reactJWT",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_JWT:"cc87fcfd48930cc25795524677a7033fab8a9b2b012c58956a001244c4a6c32e",REACT_APP_GOOGLE_CLIENTID:"796862051841-u21s62ekivlponlpdd3vlbkbuh6vln8g.apps.googleusercontent.com",REACT_APP_FIREBASE:"AIzaSyCdMWZ25HYgn5YeXOLY6Ogw9qwpxJP4Cpo"}).REACT_APP_GOOGLE_SHEET;new(0,c(264).GoogleSpreadsheet)(s.spreadsheetId);var d=c(94),b=c.n(d),p={homepage:"https://rslgp.github.io/reactJWT/#",loginPage:"auth/login",profilePage:"page",publicProfilePage:"profile/:profile_id"},j=p,O=c(461),u={jwt:"cc87fcfd48930cc25795524677a7033fab8a9b2b012c58956a001244c4a6c32e"},f="access_token",h={getSessionData:function(){try{var e=b.a.get(f);if(!e)throw new Error("No Auth Cookie");var t=O.verify(e,u.jwt);if(t.exp&&t.exp<Date.now()/1e3)throw this.removeSessionData(),new Error("Token Expired");return t}catch(c){return console.log(c.message),window.location.href=j.homepage+"/"+j.loginPage,null}},saveSessionData:function(e){var t={email:e.email,exp:Math.floor(Date.now()/1e3)+7200},c=O.sign(t,u.jwt);b.a.set(f,c,{expires:1/24})},removeSessionData:function(){b.a.remove(f)}},g=c(9),v="796862051841-u21s62ekivlponlpdd3vlbkbuh6vln8g.apps.googleusercontent.com";var _=function(){return Object(g.jsxs)("div",{className:"GoogleLogin",children:[Object(g.jsx)("button",{onClick:function(){h.saveSessionData({email:"teste"})},children:"TESTE"}),Object(g.jsx)(l.a,{clientId:v,buttonText:"Continue with Google",onSuccess:function(e){console.log(e),h.saveSessionData(e.profileObj),j.profileData=e.profileObj,window.location.href=j.homepage+"/"+j.profilePage},onFailure:console.log,cookiePolicy:"single_host_origin"}),Object(g.jsx)("button",{onClick:function(){h.getSessionData()&&(window.location.href=j.homepage+"/"+j.profilePage)},children:"TESTE2"})]})};var E=function(){return Object(g.jsxs)("div",{className:"Header",children:[Object(g.jsx)("div",{className:"espacamento"}),Object(g.jsx)("h1",{children:"Bater ponto na ECS"}),Object(g.jsx)("div",{className:"espacamento"})]})};var m=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(E,{}),Object(g.jsx)(_,{})]})},x=c(12),P=c(255),S=Object(P.a)({apiKey:"AIzaSyCdMWZ25HYgn5YeXOLY6Ogw9qwpxJP4Cpo",authDomain:"myapp-d87de.firebaseapp.com",projectId:"myapp-d87de",storageBucket:"myapp-d87de.appspot.com",messagingSenderId:"101658274836",appId:"1:101658274836:web:364eb204ab277197d30b01"}),T=c(29),A=Object(T.b)(S);function C(e){for(var t=0,c=0;c<e.length;c++){t=(t<<5)-t+e.charCodeAt(c)}return Math.abs(t)}var w=function(){var e=Object(o.useState)(null),t=Object(x.a)(e,2),c=t[0],a=t[1];return Object(o.useEffect)((function(){!function(){var e=h.getSessionData();if(e){var t=e.email,c=btoa(t),o="users/"+c,i=Object(T.c)(A,o);Object(T.a)(i).then((function(e){if(e.exists()){var o=e.val();a(o)}else{console.log("No data available");var n={email:t,name:j.profileData.name,profilePictureUrl:j.profileData.imageUrl,public_id:C(n.email)};Object(T.d)(i,n);var r=Object(T.c)(A,"public_users/"+n.public_id);Object(T.d)(r,{id:c}),a(n)}})).catch((function(e){console.error("Error fetching data:",e)}))}}()}),[]),Object(g.jsx)("div",{children:c?Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Profile Information"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("strong",{children:"Name:"})," ",c.name]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("strong",{children:"Email:"})," ",c.email]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("strong",{children:"Public Id:"})," ",Object(g.jsx)("a",{href:j.homepage+"/"+j.publicProfilePage+"/"+c.public_id,children:c.public_id})]}),Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:c.profilePictureUrl,alt:"Profile",style:{maxWidth:"100px",maxHeight:"100px"}})})]}):Object(g.jsx)("p",{children:"Loading profile data..."})})},D=c(256),R=["email"],I=Object(T.b)(S),L=function(){var e=Object(n.o)().profile_id,t=Object(o.useState)(null),c=Object(x.a)(t,2),a=c[0],i=c[1];return Object(o.useEffect)((function(){!function(){var t="public_users/"+e,c=Object(T.c)(I,t);Object(T.a)(c).then((function(e){if(e.exists()){var t="users/"+e.val().id,c=Object(T.c)(I,t);Object(T.a)(c).then((function(e){if(e.exists()){var t=e.val(),c=(t.email,Object(D.a)(t,R));i(c)}else console.log("No data available")})).catch((function(e){console.error("Error fetching data:",e)}))}else console.log("No data available")})).catch((function(e){console.error("Error fetching data:",e)}))}()}),[]),Object(g.jsx)("div",{children:a?Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Profile Information"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("strong",{children:"Name:"})," ",a.name]}),Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:a.profilePictureUrl,alt:"Profile",style:{maxWidth:"100px",maxHeight:"100px"}})})]}):Object(g.jsx)("p",{children:"Loading profile data..."})})};""===window.location.hash&&(window.location.hash="/");var W=Object(i.a)([{path:"/",element:Object(g.jsx)(m,{})},{path:j.loginPage,element:Object(g.jsx)(m,{})},{path:j.profilePage,element:Object(g.jsx)(w,{})},{path:j.publicProfilePage,element:Object(g.jsx)(L,{})}]);a.createRoot(document.getElementById("root")).render(Object(g.jsx)(o.StrictMode,{children:Object(g.jsx)(n.b,{router:W})}))}},[[476,1,2]]]);
//# sourceMappingURL=main.c5d98031.chunk.js.map