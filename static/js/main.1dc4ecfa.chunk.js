(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{118:function(e,t,a){},241:function(e,t,a){},246:function(e,t){},248:function(e,t){},259:function(e,t){},261:function(e,t){},289:function(e,t){},290:function(e,t){},295:function(e,t){},297:function(e,t){},304:function(e,t){},323:function(e,t){},357:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(216),c=a(91),i=a(16),o=(a(241),a(118),a(217)),s=a.n(o),l=a(45),u=a.n(l),j={homepage:"http://rslgp.github.io/reactJWT/#",loginPage:"auth/login",profilePage:"page",publicProfilePage:"profile/:profile_id",tagPage:"tags/:tag",allTagPage:"tags",multiTagPage:"querytags",fixURL:function(e){if(e)return e.includes("http")?e:e.includes("9")?"https://wa.me/55"+e:"https://"+e},themeColor:"#f0f2f5"},b=j,p=a(242),f={jwt:"eed624733ec663a2a42bc7f99a94f41e"},d="access_token",x={getSessionData:function(){try{var e=u.a.get(d);if(!e)throw new Error("No Auth Cookie");var t=p.verify(e,f.jwt);if(t.exp&&t.exp<Date.now()/1e3)throw this.removeSessionData(),new Error("Token Expired");return t}catch(a){return console.log(a.message),window.location.href=b.homepage+"/"+b.loginPage,null}},saveSessionData:function(e){var t={email:e.email,exp:Math.floor(Date.now()/1e3)+7200},a=p.sign(t,f.jwt);u.a.set(d,a,{expires:1/24})},removeSessionData:function(){u.a.remove(d)}},g=a(1),h=a(7),O=a(10),m=a(27),v=a(218),w=Object(v.a)({apiKey:"AIzaSyCdMWZ25HYgn5YeXOLY6Ogw9qwpxJP4Cpo",authDomain:"myapp-d87de.firebaseapp.com",projectId:"myapp-d87de",storageBucket:"myapp-d87de.appspot.com",messagingSenderId:"101658274836",appId:"1:101658274836:web:364eb204ab277197d30b01"}),y=Object(m.g)(w),k=function(){var e=Object(h.a)(Object(g.a)().mark((function e(t){var a,r,n,c;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(m.a)(y,"users"),r=Object(m.h)(a,Object(m.k)("tags","array-contains-any",t)),e.next=5,Object(m.f)(r);case 5:return n=e.sent,c=[],n.forEach((function(e){var a=e.data();t.every((function(e){return a.tags.includes(e)}))&&c.push(a)})),e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching users:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),C=k,P=a(415),S=a(403),D=a(406),_=a(416),I=a(405),N=a(410),E=a(413),U=a(414),L=a(409),T=a(221),R=a.n(T),A=a(222),J=a.n(A),W=a(223),B=a.n(W),F=a(3),M=function(){u.a.remove("access_token"),window.location.href=b.homepage+"/"+b.loginPage},Y=function(){return Object(F.jsx)(E.a,{position:"static",style:{backgroundColor:b.themeColor},children:Object(F.jsx)(U.a,{children:Object(F.jsxs)(L.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(F.jsxs)(L.a,{item:!0,children:[Object(F.jsx)(D.a,{onClick:function(){return window.location.href=b.homepage+"/"+b.profilePage},children:Object(F.jsx)(R.a,{})}),Object(F.jsx)(D.a,{onClick:function(){return window.location.href=b.homepage+"/"+b.multiTagPage},children:Object(F.jsx)(J.a,{})})]}),Object(F.jsx)(L.a,{item:!0,children:Object(F.jsxs)(D.a,{color:"inherit",onClick:M,style:{color:"black"},children:[Object(F.jsx)(B.a,{})," Sign Out"]})})]})})})},q=function(e){var t=Object(r.useState)(""),a=Object(O.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)([]),o=Object(O.a)(i,2),s=o[0],l=o[1],u=function(){var e=Object(h.a)(Object(g.a)().mark((function e(){var t;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.split(",").map((function(e){return e.trim()})),e.t0=l,e.next=4,C(t);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{children:[e.hideNavBar?null:Object(F.jsx)(Y,{}),Object(F.jsxs)(P.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(F.jsx)("h2",{children:"Buscador de perfil multi Tag"}),Object(F.jsx)(S.a,{type:"text",placeholder:"Insira as tags separado por virgulas (sem espa\xe7o)",value:n,onChange:function(e){c(e.target.value)},sx:{width:"100%",marginBottom:"10px"}}),Object(F.jsx)(D.a,{onClick:u,variant:"contained",children:"Buscar"}),Object(F.jsx)(P.a,{sx:{marginTop:"10px"},children:Object(F.jsx)(_.a,{children:s.map((function(e,t){return Object(F.jsxs)(I.a,{children:[Object(F.jsx)(N.a,{className:"espacamento",target:"_blank",rel:"noreferrer",href:"".concat(b.homepage,"/").concat(b.publicProfilePage.split(":")[0]).concat(e.public_id),children:e.public_id}),e.name,e.publicContact?Object(F.jsx)(N.a,{className:"espacamento",href:"".concat(b.fixURL(e.publicContact)),target:"_blank",rel:"noreferrer",children:e.publicContact}):Object(F.jsx)(F.Fragment,{}),e.portfolio?Object(F.jsx)(N.a,{className:"espacamento",href:"".concat(b.fixURL(e.portfolio)),target:"_blank",rel:"noreferrer",children:"portfolio"}):Object(F.jsx)(F.Fragment,{}),e.curriculo?Object(F.jsx)(N.a,{className:"espacamento",href:"".concat(b.fixURL(e.curriculo)),target:"_blank",rel:"noreferrer",children:"curriculo"}):Object(F.jsx)(F.Fragment,{})]},t)}))})})]})]})},G=a(418),H="796862051841-u21s62ekivlponlpdd3vlbkbuh6vln8g.apps.googleusercontent.com";var K=function(){return Object(F.jsxs)("div",{className:"GoogleLogin",children:[Object(F.jsx)(s.a,{clientId:H,buttonText:"Continue with Google",onSuccess:function(e){console.log(e),x.saveSessionData(e.profileObj);var t=e.profileObj,a={name:t.name,imageUrl:t.imageUrl};u.a.set("profile",JSON.stringify(a)),window.location.href=b.homepage+"/"+b.profilePage},onFailure:console.log,cookiePolicy:"single_host_origin"}),Object(F.jsx)(G.a,{variant:"fullWidth",sx:{margin:"16px 0",padding:"10px",width:"70%",mx:"auto"}}),Object(F.jsx)(q,{hideNavBar:!0})]})};var z=function(){return Object(F.jsxs)("div",{className:"Header",children:[Object(F.jsx)("div",{className:"espacamento"}),Object(F.jsx)("h1",{children:"Collabin"}),Object(F.jsx)("div",{className:"espacamento"})]})};var V=function(){return Object(F.jsxs)("div",{className:"App",children:[Object(F.jsx)(z,{}),Object(F.jsx)(K,{})]})},X=a(67),Z=a(17),Q=a(6),$=a(411),ee=a(417),te=a(412),ae=a(419),re=Object(m.g)(w);function ne(e){for(var t=0,a=0;a<e.length;a++){t=(t<<5)-t+e.charCodeAt(a)}return Math.abs(t)+Date.now()}var ce=[],ie=function(){var e=Object(r.useState)(null),t=Object(O.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),i=Object(O.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)(""),j=Object(O.a)(l,2),p=j[0],f=j[1],d=Object(r.useState)(""),v=Object(O.a)(d,2),w=v[0],y=v[1],k=Object(r.useState)(""),C=Object(O.a)(k,2),_=C[0],I=C[1],N=Object(r.useState)(""),E=Object(O.a)(N,2),U=E[0],L=E[1],T=function(e){n(e),e.tags&&s(e.tags),e.publicContact&&y(e.publicContact),e.portfolio&&I(e.portfolio),e.curriculo&&L(e.curriculo)},R=function(){var e=Object(h.a)(Object(g.a)().mark((function e(){var t,r,n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.getSessionData()){e.next=3;break}return e.abrupt("return");case 3:return r=t.email,n=btoa(r),e.next=7,Object(m.b)(Object(m.d)(re,"public_users",a.public_id.toString()));case 7:return e.next=9,Object(m.b)(Object(m.d)(re,"users",n));case 9:localStorage.removeItem("userData"),alert("Profile deletado"),window.location.href=b.homepage+"/"+b.loginPage;case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(h.a)(Object(g.a)().mark((function e(){var t,r,n,c,i,s,l;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.getSessionData()){e.next=3;break}return e.abrupt("return");case 3:return r=t.email,n=btoa(r),c=Object(m.d)(re,"users",n),i=o,Object(m.j)(c,{tags:i,publicContact:w,portfolio:_,curriculo:U}),s=Object(m.l)(re),i.forEach((function(e){if(""!==e){var t=Object(m.d)(re,"tags",e.toLowerCase());s.set(t,Object(Q.a)({},a.public_id.toString(),!0),{merge:!0})}})),ce.forEach(function(){var e=Object(h.a)(Object(g.a)().mark((function e(t){var r;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==t&&(r=Object(m.d)(re,"tags",t.toLowerCase()),s.update(r,Object(Q.a)({},a.public_id.toString(),Object(m.c)())));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=13,s.commit();case 13:(l=JSON.parse(localStorage.getItem("userData"))).tags=i,l.publicContact=w,l.portfolio=_,l.curriculo=U,localStorage.setItem("userData",JSON.stringify(l)),alert("Perfil salvo");case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){function e(){return(e=Object(h.a)(Object(g.a)().mark((function e(){var t,a,r,n,c,i,o,s,l,j,b;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=x.getSessionData()){e.next=3;break}return e.abrupt("return");case 3:if(a=t.email,r=btoa(a),n=Object(m.d)(re,"users",r),e.prev=6,!(c=JSON.parse(localStorage.getItem("userData")))){e.next=12;break}T(c),e.next=42;break;case 12:return e.next=14,Object(m.e)(n);case 14:if(!(i=e.sent).exists()){e.next=21;break}o=i.data(),T(o),localStorage.setItem("userData",JSON.stringify(o)),e.next=42;break;case 21:return console.log("No data available"),e.prev=22,s=JSON.parse(u.a.get("profile")),u.a.remove("profile"),l={email:a,name:s.name,profilePictureUrl:s.imageUrl,tags:[]},j=ne(l.email),l.public_id=j,e.next=30,Object(m.i)(n,l);case 30:return console.log(j.toString()),b=Object(m.d)(re,"public_users",j.toString()),e.next=34,Object(m.i)(b,{id:r});case 34:T(l),localStorage.setItem("userData",JSON.stringify(l)),e.next=42;break;case 38:e.prev=38,e.t0=e.catch(22),console.log(e.t0.message),console.log("No data available, creating new - error");case 42:e.next=47;break;case 44:e.prev=44,e.t1=e.catch(6),console.error("Error fetching data:",e.t1);case 47:case"end":return e.stop()}}),e,null,[[6,44],[22,38]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var J=function(){if(""!==p.trim()&&!o.includes(p)){var e=p.toLowerCase();f(e);var t=[].concat(Object(Z.a)(o),[e]);s(t);var r=Object(X.a)(Object(X.a)({},a),{},{tags:t});n(r),f("")}};return Object(F.jsx)("div",{children:a?Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)(P.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(F.jsx)(Y,{}),Object(F.jsx)("h2",{children:"Profile Information"}),Object(F.jsx)($.a,{alt:"Profile picture",src:a.profilePictureUrl,sx:{width:100,height:100,margin:"auto"}}),Object(F.jsx)(ee.a,{variant:"h6",component:"h3",children:a.name}),Object(F.jsx)(ee.a,{variant:"body1",children:a.email}),Object(F.jsxs)(ee.a,{variant:"body1",children:["Public Id:",Object(F.jsx)("a",{target:"_blank",rel:"noreferrer",href:b.homepage+"/"+b.publicProfilePage.split(":")[0]+a.public_id,children:a.public_id})]}),Object(F.jsx)(ee.a,{variant:"body1",children:"Tags:"}),Object(F.jsx)(P.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},children:o.map((function(e,t){return Object(F.jsx)(te.a,{label:e,onDelete:function(){return function(e){var t=o.filter((function(t){return t!==e}));s(t),ce.push(e);var r=Object(X.a)(Object(X.a)({},a),{},{tags:t});n(r)}(e)},sx:{margin:"5px"}},t)}))}),Object(F.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"80%"},children:[Object(F.jsx)(S.a,{label:"Add a tag",value:p,onChange:function(e){f(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&J()},sx:{width:"100%",margin:"10px -8px 0 0"}}),Object(F.jsx)(D.a,{onClick:J,style:{borderRadius:"12px",height:"60px",margin:"8px 0 0 8px",backgroundColor:"#f0f2f5"},children:"ADD"})]}),Object(F.jsx)(S.a,{label:"Add Public Contact",placeholder:"Enter contact email, number, social media",value:w,onChange:function(e){y(e.target.value)},sx:{width:"80%",margin:"10px 0"}}),Object(F.jsx)(S.a,{label:"Add portfolio URL",placeholder:"Enter portfolio URL",value:_,onChange:function(e){I(e.target.value)},sx:{width:"80%",margin:"10px 0"}}),Object(F.jsx)(S.a,{label:"Add curriculo URL",placeholder:"Enter curriculo URL",value:U,onChange:function(e){L(e.target.value)},sx:{width:"80%",margin:"10px 0"}}),Object(F.jsx)(D.a,{onClick:A,style:{borderRadius:"12px",height:"60px",width:"80%",marginTop:"8px",backgroundColor:"#f0f2f5"},children:"SAVE"}),Object(F.jsx)(G.a,{variant:"fullWidth",sx:{margin:"16px 0",padding:"10px",width:"70%",mx:"auto"}}),Object(F.jsx)(D.a,{onClick:R,style:{color:"red",borderRadius:"12px",height:"60px",width:"80%",marginTop:"8px",backgroundColor:"#f0f2f5"},children:"Delete Profile"})]})}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(ae.a,{}),Object(F.jsx)("p",{children:"Loading profile data..."})]})})},oe=a(225),se=["email"],le=Object(m.g)(w),ue=function(){var e=Object(i.o)().profile_id,t=Object(r.useState)(null),a=Object(O.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){function t(){return(t=Object(h.a)(Object(g.a)().mark((function t(){var a,r,n,i,o,s,l;return Object(g.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(m.d)(le,"public_users",e),t.prev=1,t.next=4,Object(m.e)(a);case 4:if(!(r=t.sent).exists()){t.next=14;break}return n=r.data(),i=Object(m.d)(le,"users",n.id),t.next=10,Object(m.e)(i);case 10:(o=t.sent).exists()?(s=o.data(),s.email,l=Object(oe.a)(s,se),c(l)):console.log("No data available for user"),t.next=15;break;case 14:console.log("No data available for public user");case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),console.error("Error fetching data:",t.t0);case 20:case"end":return t.stop()}}),t,null,[[1,17]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(F.jsx)("div",{children:n?Object(F.jsxs)(P.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(F.jsx)("h2",{children:"Profile Information"}),Object(F.jsx)(ee.a,{variant:"h6",component:"h3",children:n.name}),Object(F.jsxs)(P.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",gap:"10px",marginTop:"10px"},children:[n.publicContact?Object(F.jsx)(N.a,{href:"".concat(b.fixURL(n.publicContact)),target:"_blank",rel:"noreferrer",children:n.publicContact}):null,n.portfolio?Object(F.jsx)(N.a,{href:"".concat(b.fixURL(n.portfolio)),target:"_blank",rel:"noreferrer",children:"Portfolio"}):null,n.curriculo?Object(F.jsx)(N.a,{href:"".concat(b.fixURL(n.curriculo)),target:"_blank",rel:"noreferrer",children:"Curriculo"}):null]}),Object(F.jsx)($.a,{alt:"Profile picture",src:n.profilePictureUrl,sx:{width:100,height:100,margin:"auto"}}),Object(F.jsx)(ee.a,{variant:"body1",children:"Tags:"}),Object(F.jsx)(P.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},children:n.tags.map((function(e,t){return Object(F.jsx)(te.a,{label:e,sx:{margin:"5px"}},t)}))})]}):Object(F.jsx)("p",{children:"Loading profile data..."})})},je=Object(m.g)(w),be=function(){var e=Object(i.o)().tag,t=Object(r.useState)([]),a=Object(O.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){var t=function(){var t=Object(h.a)(Object(g.a)().mark((function t(){var a,r;return Object(g.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Object(m.d)(je,"tags",e),t.next=4,Object(m.e)(a);case 4:r=t.sent,console.log(r.data()),c(Object.keys(r.data())),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error fetching tag data:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(F.jsxs)("div",{children:[Object(F.jsxs)("h2",{children:["Users with Tag: ",e]}),Object(F.jsx)("div",{children:n.map((function(e){return Object(F.jsx)("div",{children:Object(F.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(b.homepage,"/").concat(b.publicProfilePage.split(":")[0]).concat(e),children:e})},e)}))})]})},pe=Object(m.g)(w),fe=function(){var e=Object(i.o)().tag,t=Object(r.useState)([]),a=Object(O.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(h.a)(Object(g.a)().mark((function e(){var t,a,r;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(m.a)(pe,"tags"),e.next=4,Object(m.f)(t);case 4:a=e.sent,r=[],a.forEach((function(e){r.push(e.id)})),c(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching tag data:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[e]),Object(F.jsx)("div",{children:Object(F.jsxs)(P.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(F.jsx)("h2",{children:"All Tags:"}),Object(F.jsx)(P.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},children:n.map((function(e){return Object(F.jsx)(N.a,{style:{marginRight:"10px"},href:"".concat(b.homepage,"/").concat(b.tagPage.split(":")[0]).concat(e),rel:"noreferrer",target:"_blank",children:e},e)}))})]})})};""===window.location.hash&&(window.location.hash="/");var de=Object(c.a)([{path:"/",element:Object(F.jsx)(V,{})},{path:b.loginPage,element:Object(F.jsx)(V,{})},{path:b.profilePage,element:Object(F.jsx)(ie,{})},{path:b.publicProfilePage,element:Object(F.jsx)(ue,{})},{path:b.tagPage,element:Object(F.jsx)(be,{})},{path:b.allTagPage,element:Object(F.jsx)(fe,{})},{path:b.multiTagPage,element:Object(F.jsx)(q,{})}]);n.createRoot(document.getElementById("root")).render(Object(F.jsx)(i.b,{router:de}))}},[[357,1,2]]]);
//# sourceMappingURL=main.1dc4ecfa.chunk.js.map