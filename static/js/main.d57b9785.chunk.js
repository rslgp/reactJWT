(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{131:function(e,t){},137:function(e,t,o){},263:function(e,t,o){},275:function(e,t){},277:function(e,t){},292:function(e,t){},332:function(e,t){},334:function(e,t){},366:function(e,t){},367:function(e,t){},372:function(e,t){},374:function(e,t){},381:function(e,t){},400:function(e,t){},476:function(e,t,o){"use strict";o.r(t);var n=o(1),i=o(253),a=o(136),c=o(5),r=(o(263),o(137),o(254)),l=o.n(r),s=(o(6),o(13),{});s.email=Object({NODE_ENV:"production",PUBLIC_URL:"/reactJWT",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE:"AIzaSyCdMWZ25HYgn5YeXOLY6Ogw9qwpxJP4Cpo",REACT_APP_GOOGLE_CLIENTID:"796862051841-u21s62ekivlponlpdd3vlbkbuh6vln8g.apps.googleusercontent.com",REACT_APP_JWT:"61706b2de419b5ae15524df8e70ce288"}).REACT_APP_GOOGLE_EMAIL,s.key=Object({NODE_ENV:"production",PUBLIC_URL:"/reactJWT",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE:"AIzaSyCdMWZ25HYgn5YeXOLY6Ogw9qwpxJP4Cpo",REACT_APP_GOOGLE_CLIENTID:"796862051841-u21s62ekivlponlpdd3vlbkbuh6vln8g.apps.googleusercontent.com",REACT_APP_JWT:"61706b2de419b5ae15524df8e70ce288"}).REACT_APP_GOOGLE_KEY,s.spreadsheetId=Object({NODE_ENV:"production",PUBLIC_URL:"/reactJWT",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE:"AIzaSyCdMWZ25HYgn5YeXOLY6Ogw9qwpxJP4Cpo",REACT_APP_GOOGLE_CLIENTID:"796862051841-u21s62ekivlponlpdd3vlbkbuh6vln8g.apps.googleusercontent.com",REACT_APP_JWT:"61706b2de419b5ae15524df8e70ce288"}).REACT_APP_GOOGLE_SHEET;new(0,o(264).GoogleSpreadsheet)(s.spreadsheetId);var d=o(94),b=o.n(d),p={homepage:"https://rslgp.github.io/reactJWT/#",loginPage:"auth/login",profilePage:"page",publicProfilePage:"profile/:profile_id"},j=p,O=o(461),u={jwt:"61706b2de419b5ae15524df8e70ce288"},f="access_token",h={getSessionData:function(){try{var e=b.a.get(f);if(!e)throw new Error("No Auth Cookie");var t=O.verify(e,u.jwt);if(t.exp&&t.exp<Date.now()/1e3)throw this.removeSessionData(),new Error("Token Expired");return t}catch(o){return console.log(o.message),window.location.href=j.homepage+"/"+j.loginPage,null}},saveSessionData:function(e){var t={email:e.email,exp:Math.floor(Date.now()/1e3)+7200},o=O.sign(t,u.jwt);b.a.set(f,o,{expires:1/24})},removeSessionData:function(){b.a.remove(f)}},g=o(9),v="796862051841-u21s62ekivlponlpdd3vlbkbuh6vln8g.apps.googleusercontent.com";var _=function(){return Object(g.jsxs)("div",{className:"GoogleLogin",children:[Object(g.jsx)("button",{onClick:function(){h.saveSessionData({email:"teste"})},children:"TESTE"}),Object(g.jsx)(l.a,{clientId:v,buttonText:"Continue with Google",onSuccess:function(e){console.log(e),h.saveSessionData(e.profileObj),j.profileData=e.profileObj,window.location.href=j.homepage+"/"+j.profilePage},onFailure:console.log,cookiePolicy:"single_host_origin"}),Object(g.jsx)("button",{onClick:function(){h.getSessionData()&&(window.location.href=j.homepage+"/"+j.profilePage)},children:"TESTE2"})]})};var E=function(){return Object(g.jsxs)("div",{className:"Header",children:[Object(g.jsx)("div",{className:"espacamento"}),Object(g.jsx)("h1",{children:"Bater ponto na ECS"}),Object(g.jsx)("div",{className:"espacamento"})]})};var m=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(E,{}),Object(g.jsx)(_,{})]})},x=o(12),P=o(255),S=Object(P.a)({apiKey:"AIzaSyCdMWZ25HYgn5YeXOLY6Ogw9qwpxJP4Cpo",authDomain:"myapp-d87de.firebaseapp.com",projectId:"myapp-d87de",storageBucket:"myapp-d87de.appspot.com",messagingSenderId:"101658274836",appId:"1:101658274836:web:364eb204ab277197d30b01"}),T=o(29),A=Object(T.b)(S);var C=function(){var e=Object(n.useState)(null),t=Object(x.a)(e,2),o=t[0],i=t[1];return Object(n.useEffect)((function(){!function(){var e=h.getSessionData();if(e){var t=e.email,o=btoa(t),n="users/"+o,a=Object(T.c)(A,n);Object(T.a)(a).then((function(e){if(e.exists()){var n=e.val();i(n)}else{console.log("No data available");var c={email:t,name:j.profileData.name,profilePictureUrl:j.profileData.imageUrl},r=function(e){for(var t=0,o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o);return Math.abs(t)+Date.now()}(c.email);c.public_id=r,Object(T.d)(a,c);var l=Object(T.c)(A,"public_users/"+r);Object(T.d)(l,{id:o}),i(c)}})).catch((function(e){console.error("Error fetching data:",e)}))}}()}),[]),Object(g.jsx)("div",{children:o?Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Profile Information"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("strong",{children:"Name:"})," ",o.name]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("strong",{children:"Email:"})," ",o.email]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("strong",{children:"Public Id:"})," ",Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:j.homepage+"/"+j.publicProfilePage.split(":")[0]+o.public_id,children:o.public_id})]}),Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:o.profilePictureUrl,alt:"Profile",style:{maxWidth:"100px",maxHeight:"100px"}})})]}):Object(g.jsx)("p",{children:"Loading profile data..."})})},w=o(256),D=["email"],R=Object(T.b)(S),I=function(){var e=Object(c.o)().profile_id,t=Object(n.useState)(null),o=Object(x.a)(t,2),i=o[0],a=o[1];return Object(n.useEffect)((function(){!function(){var t="public_users/"+e,o=Object(T.c)(R,t);Object(T.a)(o).then((function(e){if(e.exists()){var t="users/"+e.val().id,o=Object(T.c)(R,t);Object(T.a)(o).then((function(e){if(e.exists()){var t=e.val(),o=(t.email,Object(w.a)(t,D));a(o)}else console.log("No data available")})).catch((function(e){console.error("Error fetching data:",e)}))}else console.log("No data available")})).catch((function(e){console.error("Error fetching data:",e)}))}()}),[e]),Object(g.jsx)("div",{children:i?Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Profile Information"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("strong",{children:"Name:"})," ",i.name]}),Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:i.profilePictureUrl,alt:"Profile",style:{maxWidth:"100px",maxHeight:"100px"}})})]}):Object(g.jsx)("p",{children:"Loading profile data..."})})};""===window.location.hash&&(window.location.hash="/");var L=Object(a.a)([{path:"/",element:Object(g.jsx)(m,{})},{path:j.loginPage,element:Object(g.jsx)(m,{})},{path:j.profilePage,element:Object(g.jsx)(C,{})},{path:j.publicProfilePage,element:Object(g.jsx)(I,{})}]);i.createRoot(document.getElementById("root")).render(Object(g.jsx)(n.StrictMode,{children:Object(g.jsx)(c.b,{router:L})}))}},[[476,1,2]]]);
//# sourceMappingURL=main.d57b9785.chunk.js.map